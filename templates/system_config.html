{% extends "base.html" %}

{% block title %}系统配置 - Secretary{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4 class="mb-0">LLM配置</h4>
            </div>
            <div class="card-body">
                <form method="post">
                    <div class="mb-3">
                        <label for="llm-api-key" class="form-label">API密钥</label>
                        <input type="password" class="form-control" id="llm-api-key" name="llm_api_key" value="{{ config.get('LLM_API_KEY', '') }}">
                        <div class="form-text">
                            OpenAI API密钥或其他兼容的LLM API密钥
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="llm-api-model" class="form-label">API模型</label>
                            <input type="text" class="form-control" id="llm-api-model" name="llm_api_model" value="{{ config.get('LLM_API_MODEL', 'gpt-3.5-turbo') }}">
                            <div class="form-text">
                                如：gpt-3.5-turbo, gpt-4等
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label for="llm-api-base" class="form-label">API基础URL</label>
                            <input type="text" class="form-control" id="llm-api-base" name="llm_api_base" value="{{ config.get('LLM_API_BASE', 'https://api.openai.com/v1') }}">
                            <div class="form-text">
                                API服务器地址，默认为OpenAI官方地址
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">保存LLM配置</button>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4 class="mb-0">Twitter配置</h4>
            </div>
            <div class="card-body">
                <form method="post">
                    <div class="mb-3">
                        <label for="twitter-username" class="form-label">用户名</label>
                        <input type="text" class="form-control" id="twitter-username" name="twitter_username" value="{{ config.get('TWITTER_USERNAME', '') }}">
                    </div>
                    <div class="mb-3">
                        <label for="twitter-password" class="form-label">密码</label>
                        <input type="password" class="form-control" id="twitter-password" name="twitter_password" value="{{ config.get('TWITTER_PASSWORD', '') }}">
                    </div>
                    <div class="mb-3">
                        <label for="twitter-session" class="form-label">会话数据</label>
                        <textarea class="form-control" id="twitter-session" name="twitter_session" rows="3">{{ config.get('TWITTER_SESSION', '') }}</textarea>
                        <div class="form-text">
                            可选，如果提供了会话数据，将优先使用会话数据登录
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">保存Twitter配置</button>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4 class="mb-0">定时任务配置</h4>
            </div>
            <div class="card-body">
                <form method="post">
                    <div class="mb-3">
                        <label for="scheduler-interval" class="form-label">执行间隔（分钟）</label>
                        <input type="number" class="form-control" id="scheduler-interval" name="scheduler_interval" value="{{ config.get('SCHEDULER_INTERVAL_MINUTES', '30') }}" min="1" max="1440">
                        <div class="form-text">
                            定时任务执行间隔，单位为分钟，默认为30分钟
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">保存定时任务配置</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
